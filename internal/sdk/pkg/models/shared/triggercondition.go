// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"errors"
	"github.com/epilot-dev/terraform-provider-epilot-automation/internal/sdk/pkg/utils"
)

type ValueType string

const (
	ValueTypeStr           ValueType = "str"
	ValueTypeNumber        ValueType = "number"
	ValueTypeArrayOfstr    ValueType = "arrayOfstr"
	ValueTypeArrayOfnumber ValueType = "arrayOfnumber"
)

type Value struct {
	Str           *string
	Number        *float64
	ArrayOfstr    []string
	ArrayOfnumber []float64

	Type ValueType
}

func CreateValueStr(str string) Value {
	typ := ValueTypeStr

	return Value{
		Str:  &str,
		Type: typ,
	}
}

func CreateValueNumber(number float64) Value {
	typ := ValueTypeNumber

	return Value{
		Number: &number,
		Type:   typ,
	}
}

func CreateValueArrayOfstr(arrayOfstr []string) Value {
	typ := ValueTypeArrayOfstr

	return Value{
		ArrayOfstr: arrayOfstr,
		Type:       typ,
	}
}

func CreateValueArrayOfnumber(arrayOfnumber []float64) Value {
	typ := ValueTypeArrayOfnumber

	return Value{
		ArrayOfnumber: arrayOfnumber,
		Type:          typ,
	}
}

func (u *Value) UnmarshalJSON(data []byte) error {

	str := new(string)
	if err := utils.UnmarshalJSON(data, &str, "", true, true); err == nil {
		u.Str = str
		u.Type = ValueTypeStr
		return nil
	}

	number := new(float64)
	if err := utils.UnmarshalJSON(data, &number, "", true, true); err == nil {
		u.Number = number
		u.Type = ValueTypeNumber
		return nil
	}

	arrayOfstr := []string{}
	if err := utils.UnmarshalJSON(data, &arrayOfstr, "", true, true); err == nil {
		u.ArrayOfstr = arrayOfstr
		u.Type = ValueTypeArrayOfstr
		return nil
	}

	arrayOfnumber := []float64{}
	if err := utils.UnmarshalJSON(data, &arrayOfnumber, "", true, true); err == nil {
		u.ArrayOfnumber = arrayOfnumber
		u.Type = ValueTypeArrayOfnumber
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u Value) MarshalJSON() ([]byte, error) {
	if u.Str != nil {
		return utils.MarshalJSON(u.Str, "", true)
	}

	if u.Number != nil {
		return utils.MarshalJSON(u.Number, "", true)
	}

	if u.ArrayOfstr != nil {
		return utils.MarshalJSON(u.ArrayOfstr, "", true)
	}

	if u.ArrayOfnumber != nil {
		return utils.MarshalJSON(u.ArrayOfnumber, "", true)
	}

	return nil, errors.New("could not marshal union type: all fields are null")
}

type TriggerCondition struct {
	Comparison Comparison `json:"comparison"`
	Source     string     `json:"source"`
	Value      *Value     `json:"value,omitempty"`
}

func (o *TriggerCondition) GetComparison() Comparison {
	if o == nil {
		return Comparison("")
	}
	return o.Comparison
}

func (o *TriggerCondition) GetSource() string {
	if o == nil {
		return ""
	}
	return o.Source
}

func (o *TriggerCondition) GetValue() *Value {
	if o == nil {
		return nil
	}
	return o.Value
}
